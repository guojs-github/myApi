if("undefined"==typeof jQuery)throw new Error("myApi: This plugin requires jQuery");var myApi;if($(function(){console.log("myApi loading."),myApi.string.init()}),(myApi=myApi||{}).browser={BROWSER_TYPE:{UNKNOWN:"Unknown",OPERA:"Opera",FIREFOX:"Firefox",CHROME:"Chrome",SAFARI:"Safari",EDGE:"Edge",WEIXIN:"Weixin",IE:"IE"},type:function(){console.log("Browser type");var e=navigator.userAgent,t=-1<e.indexOf("Opera"),n=-1<e.indexOf("compatible")&&-1<e.indexOf("MSIE")&&!t,a=-1<e.indexOf("Trident")&&-1<(-1<e.indexOf("rv"))&&!n,o=-1<e.indexOf("Edge")&&!a,i=-1<e.toLowerCase().indexOf("micromessenger"),r=-1<e.indexOf("Firefox"),s=-1<e.indexOf("Safari")&&-1==e.indexOf("Chrome")&&!i,l=-1<e.indexOf("Chrome")&&-1<e.indexOf("Safari")&&!i,d=null;try{return n?(new RegExp("MSIE (\\d+\\.\\d+);").test(e),7<=(d=parseFloat(RegExp.$1))&&d<=11?this.BROWSER_TYPE.IE+d:this.BROWSER_TYPE.IE):a?this.BROWSER_TYPE.IE+"11":o?this.BROWSER_TYPE.EDGE:t?this.BROWSER_TYPE.OPERA:r?this.BROWSER_TYPE.FIREFOX:s?this.BROWSER_TYPE.SAFARI:l?this.BROWSER_TYPE.CHROME:i?this.BROWSER_TYPE.WEIXIN:this.BROWSER_TYPE.UNKNOWN}catch(e){throw e}finally{d=l=s=r=o=n=t=e=null}},isIE:function(){console.log("Is ie browser?");var e=this.type();try{return-1<e.indexOf(this.BROWSER_TYPE.IE)}catch(e){throw e}finally{e=null}},availHeight:function(){var e=40,t=0;try{return this.type(),this.isIE()?(t=108,screen.availHeight-t):(this.BROWSER_TYPE.CHROME,t=90,screen.availHeight-e-t)}catch(e){throw e}finally{t=e=null}},language:function(){console.log("Get browser language");var e=this.type(),t="en";try{return-1<e.indexOf(this.BROWSER_TYPE.IE)?window.navigator.userLanguage.toLowerCase():window.navigator.language.toLowerCase()}catch(e){return t}finally{t=e=null}},isChinese:function(){return console.log("The language is chinese?"),"zh-cn"==this.language()}},(myApi=myApi||{}).common={queryString:function(e){console.log("Get query string."),console.log("key:"+e);var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t),a="";return null!=n&&(a=n[2]),(n=t=null)==a||""==a||"undefined"==a?"":a},checkMobile:function(e){return console.log("Check mobile phone number."),console.log("value:"+e),/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(e)},stopBubble:function(e){console.log("Stop bubble"),e&&e.stopPropagation?e.stopPropagation():window.event.cancelBubble=!0},ref:function(e,t){if(console.log("Add file reference to page"),"string"!=typeof e||e.trim().length<=0)console.log("Invalid reference type.");else if(console.log("type:"+e),"string"!=typeof t||t.trim().length<=0)console.log("Invalid reference file name.");else{console.log("file:"+t);var n=myApi.time.formatTime(new Date);if("css"==e){var a=document.createElement("link");a.setAttribute("type","text/css"),a.setAttribute("rel","stylesheet"),a.setAttribute("href",t+"?t="+n),$("head")[0].appendChild(a)}else if("js"==e){var o=document.createElement("script");o.setAttribute("type","text/javascript"),o.setAttribute("src",t+"?t="+n),$("body")[0].appendChild(o)}}}},(myApi=myApi||{}).cookie=new function(){var n="/",a=function(){var e={},t=document.cookie;if(console.log("cookie:"+t),""===t)return e;for(var n=t.split("; "),a=0;a<n.length;a++){var o=n[a],i=o.indexOf("="),r=o.substring(0,i),s=o.substring(i+1);s=decodeURIComponent(s),e[r]=s}return e}();var o=[];for(var e in a)o.push(e);this.length=o.length,this.key=function(e){return console.log("Get specified cookie;"),console.log("n:"+e),e<0||e>=o.length?null:o[e]},this.setItem=function(e,t){console.log("Set cookie."),console.log("key:"+e),console.log("value:"+t),e in a||(o.push(e),this.length++),a[e]=t;var n=e+"="+encodeURIComponent(t);n+="; max-age="+864e5,n+="; path=/",document.cookie=n},this.getItem=function(e){return console.log("Get cookie."),console.log("key:"+e),void 0===a[e]||null==a[e]?"":a[e]},this.removeItem=function(e){if(console.log("Remove cookie."),console.log("key:"+e),e in a){delete a[e];for(var t=0;t<o.length;t++)if(o[t]===e){o.splice(t,1);break}this.length--,document.cookie=e+"=; max-age=0; path="+n}},this.clear=function(){console.log("Clear cookie.");for(var e=0;e<o.length;e++)document.cookie=o[e]+"=; max-age=0; path="+n;a={},o=[],this.length=0}},(myApi=myApi||{}).number={formatAmount:function(e,t){var n=e;if(e<0&&(e=0-e),/[^0-9\.]/.test(e))return"0.00";if(null==e||"null"==e||""==e)return"0.00";0<t&&(e=new Number(e).toFixed(t)),e=(e=((e=e.toString().replace(/^(\d*)$/,"$1."))+"00").replace(/(\d*\.\d\d)\d*/,"$1")).replace(".",",");for(var a=/(\d)(\d{3},)/;a.test(e);)e=e.replace(a,"$1,$2");if(e=e.replace(/,(\d\d)$/,".$1"),0==t){var o=e.split(".");"00"==o[1]&&(e=o[0])}return n=n<0?"("+e+")":e}},(myApi=myApi||{}).request={requestTimeout:3e3,post:function(e,t,n,a,o){console.log("Send a post request."),console.log("url:"+e),console.log("param:"+JSON.stringify(t));var i=this.requestTimeout;"number"==typeof o&&0<o&&(i=o),myApi.display.loading.show();var r=$.ajax({url:e,type:"POST",data:JSON.stringify(t),cache:!1,timeout:i,dataType:"json",error:function(e,t,n){console.log("Request fail."),console.log("request:"+JSON.stringify(e)),console.log("status:"+JSON.stringify(t)),console.log("err:"+JSON.stringify(n)),"function"==typeof a&&a(e,t,n)},success:function(e){console.log("Request success"),console.log("data:"+JSON.stringify(e)),"function"==typeof n&&n(e)},complete:function(e,t){myApi.display.loading.hide(),"timeout"==t&&r.abort()}})},get:function(e,t,a,n){console.log("Send a get request."),console.log("url:"+e);var o=this.requestTimeout;"number"==typeof n&&0<n&&(o=n),myApi.display.loading.show();var i=$.ajax({url:e,type:"GET",cache:!1,timeout:o,dataType:"json",error:function(e,t,n){console.log("Request fail."),console.log("request:"+JSON.stringify(e)),console.log("status:"+JSON.stringify(t)),console.log("err:"+JSON.stringify(n)),"function"==typeof a&&a(e,t,n)},success:function(e){console.log("Request success"),console.log("data:"+JSON.stringify(e)),"function"==typeof t&&t(e)},complete:function(e,t){myApi.display.loading.hide(),"timeout"==t&&i.abort()}})}},(myApi=myApi||{}).storage=new function(){var n;n=window.localStorage?window.localStorage:require("./cookie.js")(),this.setItem=function(e,t){n.setItem(e,t)},this.getItem=function(e){var t=n.getItem(e);return void 0===t||null==t?"":t},this.removeItem=function(e){n.removeItem(e)},this.clear=function(){n.clear()}},(myApi=myApi||{}).string={init:function(){console.log("Initialize myapi string library."),this.trim()},trim:function(){console.log("Add trim routines."),"function"!=typeof String.trim&&(String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")}),"function"!=typeof String.ltrim&&(String.prototype.ltrim=function(){return this.replace(/(^\s*)/g,"")}),"function"!=typeof String.rtrim&&(String.prototype.rtrim=function(){return this.replace(/(\s*$)/g,"")})}},(myApi=myApi||{}).time={formatDuration:function(e){if(console.log("Format duration:"+e),"number"!=typeof e)return"";if(e<0)return"";var t=e,n=(t-t%3600)/3600,a=((t-=3600*n)-t%60)/60,o="";return 0<n&&(o+=n+"时"),(0<a||0<n)&&(o+=a+"分"),o+=(t-=60*a)+"秒"},formatTime:function(e){if(null==e)return"";if(isNaN(e))return"";var t="";return t+=e.getFullYear(),t+="-",t+=$.trim(""+(e.getMonth()+1)).length<2?"0"+(e.getMonth()+1):e.getMonth()+1,t+="-",t+=$.trim(""+e.getDate()).length<2?"0"+e.getDate():e.getDate(),t+=" ",t+=$.trim(""+e.getHours()).length<2?"0"+e.getHours():e.getHours(),t+=":",t+=$.trim(""+e.getMinutes()).length<2?"0"+e.getMinutes():e.getMinutes()},formatDateString:function(e,t){if(console.log("Format date string"),console.log("dateString:"+e),console.log("sep:"+t),"string"!=typeof e||8!=e.trim().length)return"";var n=e.trim(),a="-";"string"==typeof t&&0<t.trim().length&&(a=t.trim());var o="";return o+=n.substring(0,4),o+=a+n.substring(4,6),o+=a+n.substring(6,8)},formatDate:function(e,t){var n=e.getFullYear(),a=e.getMonth()+1,o=e.getDate(),i=void 0===t?"-":t;return n+i+(a<10?"0"+a:a)+i+(o<10?"0"+o:o)},addSeconds:function(e,t){if(null==e)return null;if(isNaN(e))return null;if(null==t)return null;if(isNaN(t))return null;var n=e.getTime(),a=new Date;return a.setTime(n+1e3*t),a},addDays:function(e,t){return myApi.time.addSeconds(e,24*t*3600)}},(myApi=myApi||{}).wx={init:function(e,t,n){console.log("Initialize wx api."),console.log("param:"+JSON.stringify(e));var a=!1;wx.config({debug:!1,appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:["chooseWXPay","chooseImage","uploadImage","scanQRCode"]}),wx.ready(function(){console.log("JSAPI ready."),0==a&&"function"==typeof t&&t()}),wx.error(function(e){console.log("JSAPI initialize fail."),a=!0,"function"==typeof n&&n()})},scan:function(t,n){console.log("Scan"),wx.checkJsApi({jsApiList:["scanQRCode"],success:function(e){if(console.log("res:"+JSON.stringify(e)),e.errMsg.indexOf("ok")<0)return console.log("Error occurred:"+e.errMsg),void("function"==typeof n&&n("扫描功能检测失败"));1==e.checkResult.scanQRCode?(console.log("Scan qr code allowed."),wx.scanQRCode({needResult:1,scanType:["qrCode","barCode"],success:function(e){if(console.log("scan res:"+JSON.stringify(e)),e.errMsg.indexOf("ok")<0)return console.log("Error occurred while scan:"+e.errMsg),void("function"==typeof n&&n("扫描功能未获授权"));console.log("scan success"),"function"==typeof t&&t(e.resultStr)}})):(console.log("Scan qr code no allowed."),"function"==typeof n&&n("扫描功能未获授权"))}})}},"undefined"==typeof jQuery)throw new Error("DCalendar.Picker: This plugin requires jQuery");!function(b){var A={BROWSER_TYPE:{UNKNOWN:"Unknown",OPERA:"Opera",FIREFOX:"Firefox",CHROME:"Chrome",SAFARI:"Safari",EDGE:"Edge",WEIXIN:"Weixin",IE:"IE"},type:function(){console.log("Browser type");var e=navigator.userAgent,t=-1<e.indexOf("Opera"),n=-1<e.indexOf("compatible")&&-1<e.indexOf("MSIE")&&!t,a=-1<e.indexOf("Trident")&&-1<(-1<e.indexOf("rv"))&&!n,o=-1<e.indexOf("Edge")&&!a,i=-1<e.toLowerCase().indexOf("micromessenger"),r=-1<e.indexOf("Firefox"),s=-1<e.indexOf("Safari")&&-1==e.indexOf("Chrome")&&!i,l=-1<e.indexOf("Chrome")&&-1<e.indexOf("Safari")&&!i,d=null;try{return n?(new RegExp("MSIE (\\d+\\.\\d+);").test(e),7<=(d=parseFloat(RegExp.$1))&&d<=11?this.BROWSER_TYPE.IE+d:this.BROWSER_TYPE.IE):a?this.BROWSER_TYPE.IE+"11":o?this.BROWSER_TYPE.EDGE:t?this.BROWSER_TYPE.OPERA:r?this.BROWSER_TYPE.FIREFOX:s?this.BROWSER_TYPE.SAFARI:l?this.BROWSER_TYPE.CHROME:i?this.BROWSER_TYPE.WEIXIN:this.BROWSER_TYPE.UNKNOWN}catch(e){throw e}finally{d=l=s=r=o=n=t=e=null}},language:function(){console.log("Get browser language");var e=this.type(),t="en";try{return-1<e.indexOf(this.BROWSER_TYPE.IE)?window.navigator.userLanguage.toLowerCase():window.navigator.language.toLowerCase()}catch(e){return t}finally{t=e=null}},isChinese:function(){return console.log("The language is chinese?"),"zh-cn"==this.language()}};console.log("Is chinese?"+A.isChinese()),Date.prototype.getDays=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()};var M=["January","February","March","April","May","June","July","August","September","October","November","December"],T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],C=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];A.isChinese()&&(M=["1","2","3","4","5","6","7","8","9","10","11","12"],T=["1","2","3","4","5","6","7","8","9","10","11","12"],C=["周日","周一","周二","周三","周四","周五","周六"]),DCalendar=function(e,t){if(this.calendar=b(e),this.today=new Date,""===this.calendar.prev().val())this.date=new Date;else{var n=this.reformatDate(this.calendar.prev().val());this.date=isNaN(parseInt(n.m))?new Date(n.m+" "+n.d+", "+n.y):new Date(n.y,n.m-1,n.d)}this.viewMode="days",this.options=t,this.selected=this.date.getMonth()+1+"/"+this.date.getDate()+"/"+this.date.getFullYear(),this.minDate=this.calendar.prev().data("mindate"),this.maxDate=this.calendar.prev().data("maxdate"),"calendar"===t.mode?this.tHead=b('<thead><tr><th id="prev">&lsaquo;</th><th colspan="5" id="currM"></th><th id="next">&rsaquo;</th></tr><tr><th>Su</th><th>Mo</th><th>Tu</th><th>We</th><th>Th</th><th>Fr</th><th>Sa</th></tr></thead>'):"datepicker"===t.mode&&(this.tHead=b('<thead><tr><th id="prev">&lsaquo;</th><th colspan="5" id="currM"></th><th id="next">&rsaquo;</th></tr><tr><th>S</th><th>M</th><th>T</th><th>W</th><th>T</th><th>F</th><th>S</th></tr></thead>')),this.tHead.find("#currM").text(M[this.today.getMonth()]+" "+this.today.getFullYear()),this.calendar.prepend(this.tHead);var l=this;function a(e){var t=new Date(l.date),n=t.getMonth(),a=t.getFullYear();t.setDate(1),"days"===l.viewMode?t.setMonth(n+("next"===e?1:-1)):t.setFullYear(a+("next"===e?1:-1)),l.date=t,l.create(l.viewMode)}this.calendar.on("click","#next",function(){a("next")}).on("click","#prev",function(){a("prev")}).on("click","#today",function(){l.viewMode="days";var e=new Date(l.date),t=new Date(l.today);e.toString()!=t.toString()&&(l.date=t),l.create("days")}).on("click",".date, .pMDate, .nMDate",function(){var e=b(this).hasClass("pMDate"),t=b(this).hasClass("nMDate"),n=b(this).text(),a=l.date.getMonth(),o=l.date.getFullYear(),i="today"===l.minDate?new Date(l.today.getFullYear(),l.today.getMonth(),l.today.getDate()):new Date(l.minDate),r="today"===l.maxDate?new Date(l.today.getFullYear(),l.today.getMonth(),l.today.getDate()):new Date(l.maxDate);e?o=0===a?o-1:o:t&&(o=a+2===13?o+1:o),e?a=0===a?"12":a:t?a=a+2===13?"1":a+2:a+=1;var s=new Date(o,a-1,n);if(!(l.minDate&&s<i||l.maxDate&&r<s))return l.selected=a+"/"+n+"/"+o,"datepicker"===l.options.mode&&(l.calendar.find("td").removeClass("selected"),b(this).addClass("selected")),l.selectDate(),!0}).on("click","#currM",function(){l.viewMode="months",l.create(l.viewMode)}).on("click",".month",function(e){l.viewMode="days";var t=new Date(l.date);l.calendar.find("#currM").text();t.setMonth(b(e.currentTarget).attr("num")),l.date=t,l.create(l.viewMode)}),this.create(this.viewMode)},DCalendar.prototype={constructor:DCalendar,setDate:function(){var e=this,t=e.reformatDate(e.calendar.prev().val()),n=isNaN(parseInt(t.m))?new Date(t.m+" "+t.d+", "+t.y):new Date(t.y,t.m-1,t.d);e.selected=n.getMonth()+1+"/"+n.getDate()+"/"+n.getFullYear(),e.selectDate(),e.date=n,e.create(e.viewMode)},selectDate:function(){var e=this.formatDate(this.options.format),t=b.Event("selectdate",{date:e});this.calendar.trigger(t)},reformatDate:function(e){var t=this.options.format;return{m:e.substring(t.indexOf("m"),t.lastIndexOf("m")+1),d:e.substring(t.indexOf("d"),t.lastIndexOf("d")+1),y:e.substring(t.indexOf("y"),t.lastIndexOf("y")+1)}},formatDate:function(e){var t=new Date(this.selected),n=t.getDate(),a=t.getMonth(),o=t.getFullYear();return e.replace(/(yyyy|yy|mmmm|mmm|mm|m|dd|d)/gi,function(e){switch(e.toLowerCase()){case"d":return n;case"dd":return n<10?"0"+n:n;case"m":return a+1;case"mm":return a+1<10?"0"+(a+1):a+1;case"mmm":return T[a];case"mmmm":return M[a];case"yy":return o.toString().substr(2,2);case"yyyy":return o}})},create:function(e){var t=this,n=[],o=b("<tbody></tbody>"),a=new Date(t.date.getFullYear(),t.date.getMonth(),t.date.getDate()),i=t.date.getDays(),r=1,s=1,l=t.selected.split("/"),d=new Date(l[2],l[0]-1,l[1]),c=new Date(t.today.getFullYear(),t.today.getMonth(),t.today.getDate()),u="today"===t.minDate?c:new Date(t.minDate),h="today"===t.maxDate?c:new Date(t.maxDate);t.calendar.empty();var g="Today: "+C[t.today.getDay()]+", "+M[t.today.getMonth()]+" "+t.today.getDate()+", "+t.today.getFullYear();if(A.isChinese()&&(g="今日: "+t.today.getFullYear()+"年"+M[t.today.getMonth()]+"月"+t.today.getDate()+"日, "+C[t.today.getDay()]),"days"===e){"calendar"===t.options.mode?(t.tHead=b('<thead><tr><th id="prev">&lsaquo;</th><th colspan="5" id="currM"></th><th id="next">&rsaquo;</th></tr><tr><th>Su</th><th>Mo</th><th>Tu</th><th>We</th><th>Th</th><th>Fr</th><th>Sa</th></tr></thead>'),A.isChinese()&&(t.tHead=b('<thead><tr><th id="prev">&lsaquo;</th><th colspan="5" id="currM"></th><th id="next">&rsaquo;</th></tr><tr><th>日</th><th>一</th><th>二</th><th>三</th><th>四</th><th>五</th><th>六</th></tr></thead>'))):"datepicker"===t.options.mode&&(t.tHead=b('<thead><tr><th id="prev">&lsaquo;</th><th colspan="5" id="currM"></th><th id="next">&rsaquo;</th></tr><tr><th>S</th><th>M</th><th>T</th><th>W</th><th>T</th><th>F</th><th>S</th></tr></thead>'),A.isChinese()&&(t.tHead=b('<thead><tr><th id="prev">&lsaquo;</th><th colspan="5" id="currM"></th><th id="next">&rsaquo;</th></tr><tr><th>日</th><th>一</th><th>二</th><th>三</th><th>四</th><th>五</th><th>六</th></tr></thead>'))),t.tHead.find("#currM").text(M[t.date.getMonth()]+" "+t.date.getFullYear()),A.isChinese()&&t.tHead.find("#currM").text(t.date.getFullYear()+"年"+M[t.date.getMonth()]+"月"),t.calendar.append(t.tHead);for(var p=1;p<=6;p++){for(var f=[b("<td></td>"),b("<td></td>"),b("<td></td>"),b("<td></td>"),b("<td></td>"),b("<td></td>"),b("<td></td>")];r<=i;){a.setDate(r);var m=a.getDay();if(a.getTime()==c.getTime()&&f[m].attr("id","currDay"),(t.minDate&&a<u||t.maxDate&&h<a)&&f[m].addClass("disabled"),"datepicker"===t.options.mode&&a.getTime()==d.getTime()&&f[m].addClass("selected"),1===p&&0===m)break;if(!(m<6)){f[m].html("<span>"+r+++"</span>").addClass("date");break}f[m].html("<span>"+r+++"</span>").addClass("date")}if(1===p||4<p)if(1===p)for(var y=new Date(t.date.getFullYear(),t.date.getMonth()-1,1),v=(y.getMonth(),y.getDays()),E=6;0<=E;E--)""===f[E].text()&&(y.setDate(v),f[E].html("<span>"+v--+"</span>").addClass("pMDate"),(t.minDate&&y<u||t.maxDate&&h<y)&&f[E].addClass("disabled"),"datepicker"===t.options.mode&&y.getTime()==d.getTime()&&f[E].addClass("selected"));else if(4<p){var w=new Date(t.date.getFullYear(),t.date.getMonth()+1,1);for(E=0;E<=6;E++)""===f[E].text()&&(w.setDate(s),f[E].html("<span>"+s+++"</span>").addClass("nMDate"),(t.minDate&&w<u||t.maxDate&&h<w)&&f[E].addClass("disabled"),"datepicker"===t.options.mode&&w.getTime()==d.getTime()&&f[E].addClass("selected"))}n.push(f)}b.each(n,function(e,t){var n=b("<tr></tr>"),a=t.length;for(e=0;e<a;e++)n.append(t[e]);o.append(n)}),o.append('<tr><td colspan="7" id="today">'+g+"</td></tr>").appendTo(t.calendar)}else{this.tHead=b('<thead><tr><th id="prev">&lsaquo;</th><th colspan="2" id="currM"></th><th id="next">&rsaquo;</th></tr>'),t.tHead.find("#currM").text(t.date.getFullYear()),t.tHead.appendTo(t.calendar);var x=0;for(p=0;p<3;p++){for(var D=b("<tr></tr>"),O=0;O<4;O++){var S=b('<td align="center"></td>'),R=b('<span class="month" num="'+x+'">'+T[x]+"</span>");A.isChinese()&&(R=b('<span class="month" num="'+x+'">'+T[x]+"月</span>")),S.append(R).appendTo(D),x++}o.append(D)}o.append('<tr><td colspan="4" id="today">'+g+"</td></tr>").appendTo(t.calendar)}}},b.fn.dcalendar=function(i){return b(this).each(function(e,t){var n=b(this),a=b(this).data("dcalendar"),o=b.extend({},b.fn.dcalendar.defaults,n.data(),"object"==typeof i&&i);a||n.data("dcalendar",a=new DCalendar(this,o)),"string"==typeof i&&a[i]()})},b.fn.dcalendar.defaults={mode:"calendar",format:"mm/dd/yyyy"},b.fn.dcalendar.Constructor=DCalendar,b.fn.dcalendarpicker=function(o){return b(this).each(function(){var t=b(this),e=!1,n=!1,a=null;"string"==typeof o?t.next(".myApi-calendar").data("dcalendar")[o]():(a=b('<table class="myApi-calendar"></table>'),t.wrap(b('<div class="datepicker" style="display:inline-block;position:relative;"></div>')),a.css({position:"absolute",left:0,display:"none","box-shadow":"0 4px 6px 1px rgba(0, 0, 0, 0.14)",width:"230px",border:"1px solid #cbcbcb"}).appendTo(t.parent()),o?(o.mode="datepicker",a.dcalendar(o)):a.dcalendar({mode:"datepicker"}),a.hover(function(){e=!0},function(){e=!1}).on("click",function(){n?(n=!1,b(this).hide()):t.focus()}).on("selectdate",function(e){t.val(e.date).trigger("onchange"),t.trigger(b.Event("dateselected",{date:e.date,elem:t})),n=!0}),t.on("keydown",function(e){if(e.which)return!1}).on("focus",function(){b(".datepicker").find(".myApi-calendar").not(a).hide(),a.show()}).on("blur",function(){e||a.hide()}))})}}(jQuery),(myApi=myApi||{}).display=myApi.display||{},myApi.display.loading={show:function(){console.log("Show loading."),this.hide();var e=document.createElement("div");e.setAttribute("class","myApi-loading"),document.body.appendChild(e)},hide:function(){console.log("Hide loading.");try{document.body.removeChild(document.querySelector("div.myApi-loading"))}catch(e){}}},function(){if(!("placeholder"in document.createElement("input"))){var a="attachEvent",o="on";"addEventListener"in window&&(a="addEventListener",o=""),window[a](o+"load",function(){var e={add:function(e){for(var t=document.getElementsByTagName(e),n=0;n<t.length;n++)this.render(t[n]);return this},render:function(e){var t=e.getAttribute("placeholder");t&&this.attachEvent(e,this.getDiv(e,t))},getDiv:function(e,t){var n=document.createElement("div");return n.style.position="absolute",n.style.width=this.getPosition(e,"Width")+"px",n.style.height=this.getPosition(e,"Height")+"px",n.style.left=this.getPosition(e,"Left")+"px",n.style.top=this.getPosition(e,"Top")+"px",n.style.color="#757575",n.style.textIndent="5px",n.style.zIndex=999,n.style.background=e.style.background,n.style.border=e.style.border,n.style.cursor="text",n.innerHTML=t,"TEXTAREA"==e.tagName.toUpperCase()?n.style.lineHeight="35px":n.style.lineHeight=n.style.height,document.getElementsByTagName("body")[0].appendChild(n),n},getPosition:function(e,t,n){var a=e["offset"+t];n=n||0;return!a&&n<3&&(a=this.getPosition(e.parentNode,t,++n)),a},attachEvent:function(t,n){t[a](o+"focus",function(){n.style.display="none"}),t[a](o+"blur",function(e){""==e.srcElement.value&&(n.style.display="")}),n[a](o+"click",function(e){e.srcElement.style.display="none",t.focus()})}};setTimeout(function(){e.add("input").add("textarea")},50)})}}(),(myApi=myApi||{}).display=myApi.display||{},myApi.display.toast={show:function(e){if(console.log("Show toast."),"object"==typeof e)if("string"!=typeof e.message||e.message.trim().length<=0)console.log("Invalid message.");else{console.log("message:"+e.message);try{document.body.removeChild(document.querySelector("div.myApi-toast"))}catch(e){}var t=e.delay||3e3;console.log("delay:"+t);var n=document.createElement("div");n.setAttribute("class","myApi-toast");var a=document.createElement("div");a.setAttribute("class","myApi-toast-mask"),n.appendChild(a);var o=document.createElement("div");o.setAttribute("class","myApi-toast-dialog");var i=document.createElement("div");i.setAttribute("class","myApi-toast-content");var r=document.createTextNode(e.message);i.appendChild(r),o.appendChild(i),n.appendChild(o),document.body.appendChild(n),setTimeout(function(){try{document.body.removeChild(n),"function"==typeof e.complete&&e.complete()}catch(e){}},t)}else console.log("Invalid param.")}};